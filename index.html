<!---Put your code here--->
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>军旗裁判</title>
    <link rel="stylesheet" href="styles.css">

    <script>

     function myFunction(){
        const eles = document.getElementsByClassName('chess');

        for (let i = 0; i < eles.length; i++) {
            eles[i].addEventListener('click',(e)=>{
               e.target.classList.add("selected");
               console.log(e.target);

                const eles = document.getElementsByClassName(e.target.classList[1]);
                for (let i = 0; i < eles.length; i++) {
                    eles[i].classList.add("hide");
                }

            })
        }
     }

     function comparing(){

        const eles = document.getElementsByClassName('selected');

        const names = {
            "司令":10,
            "军长":9,
            "师长":8,
            "旅长":7,
            "团长":6,
            "营长":5,
            "连长":4,
            "排长":3,
            "工兵":2,
            "地雷":1,
            "炸弹":0,
            "军旗":-1,
            }


        const red = names[eles[0].innerHTML];
        const black = names[eles[1].innerHTML];

        console.log(red + "" + black);

        if((red == 0 && black != -1) || (black == 0 && red != -1) || red ==black){
            document.getElementById("result").innerHTML = "两个都消灭"
            return;
        }

        if (red == 1) {
            if (black >= 3 && black <= 10) {
                document.getElementById("result").innerHTML = "红方赢"
                return;
            } else if (black == 2) {
                document.getElementById("result").innerHTML = "黑方赢"
                return;
            } else if (black == 0) {
                document.getElementById("result").innerHTML = "两个都消灭"
                return;
            } else {
                document.getElementById("result").innerHTML = "错误：军旗、地雷不可移动"
                return;
            }
        }

        if (black == 1) {
            if (black >= 3 && black <= 10) {
                document.getElementById("result").innerHTML = "黑方赢"
                return;
            } else if (red == 2) {
                document.getElementById("result").innerHTML = "红方赢"
                return;
            } else if (red == 1) {
                document.getElementById("result").innerHTML = "两个都消灭"
                return;
            } else {
                document.getElementById("result").innerHTML = "错误：军旗、地雷不可移动"
                return;
            }
        }

        if(red == -1 || black == -1){
            document.getElementById("result").innerHTML = "游戏结束"
            return;
        }

        if(red >  black){
            document.getElementById("result").innerHTML = "红方赢";
            return;

        }else{
             document.getElementById("result").innerHTML = "黑方赢";
             return;
        }

     }


    </script>
</head>

<body onload="myFunction()">
    <h1>军旗裁判</h1>
    <div class="container red">
        <div class="chess redside">司令</div>
        <div class="chess redside">军长</div>
        <div class="chess redside">师长</div>
        <div class="chess redside">旅长</div>
        <div class="chess redside">团长</div>
        <div class="chess redside">营长</div>
        <div class="chess redside">连长</div>
        <div class="chess redside">排长</div>
        <div class="chess redside">工兵</div>
        <div class="chess redside">地雷</div>
        <div class="chess redside">炸弹</div>
        <div class="chess redside">军旗</div>
    </div>


    <div class="container black">
        <div class="chess blackside">司令</div>
        <div class="chess blackside">军长</div>
        <div class="chess blackside">师长</div>
        <div class="chess blackside">旅长</div>
        <div class="chess blackside">团长</div>
        <div class="chess blackside">营长</div>
        <div class="chess blackside">连长</div>
        <div class="chess blackside">排长</div>
        <div class="chess blackside">工兵</div>
        <div class="chess blackside">地雷</div>
        <div class="chess blackside">炸弹</div>
        <div class="chess blackside">军旗</div>
    </div>

    <div class="button">
        <button onclick="comparing()">裁决</button>
        <button onclick="location.reload()">刷新</button>
    </div>

    <div id ="result"></div>
</body>

</html>
